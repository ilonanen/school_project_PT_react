(this.webpackJsonpptreact=this.webpackJsonpptreact||[]).push([[0],{285:function(e,t,a){},286:function(e,t,a){},483:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(0),i=a.n(r),c=a(16),s=a.n(c),o=(a(285),a(19)),l=(a(286),a(82)),d=a(21),u=a(527),j=a(531),h=a(526),m=a(525),b=a(121),f=a.n(b),O=a(72),p=(a(131),a(132),a(533)),x=a(52),g=a(36),v=a(516),y=a(529),C=a(532),S=a(524),k=a(522),w=a(521);var T=function(e){var t=Object(r.useState)(!1),a=Object(o.a)(t,2),i=a[0],c=a[1],s=Object(r.useState)({lastname:"",firstname:"",streetaddress:"",postcode:"",city:"",email:"",phone:""}),l=Object(o.a)(s,2),d=l[0],u=l[1],j=function(){c(!1),u({lastname:"",firstname:"",streetaddress:"",postcode:"",city:"",email:"",phone:""})},h=function(e){u(Object(g.a)(Object(g.a)({},d),{},Object(x.a)({},e.target.name,e.target.value)))};return Object(n.jsxs)("div",{children:[Object(n.jsx)(v.a,{style:{margin:10},variant:"contained",color:"primary",onClick:function(){c(!0)},children:"Add a new customer"}),Object(n.jsxs)(C.a,{open:i,onClose:j,children:[Object(n.jsx)(w.a,{children:"New customer"}),Object(n.jsxs)(k.a,{children:[Object(n.jsx)(y.a,{margin:"dense",label:"First name",name:"firstname",value:d.firstname,onChange:h,fullWidth:!0}),Object(n.jsx)(y.a,{margin:"dense",label:"Last name",name:"lastname",value:d.lastname,onChange:h,fullWidth:!0}),Object(n.jsx)(y.a,{margin:"dense",label:"Address",name:"streetaddress",value:d.streetaddress,onChange:h,fullWidth:!0}),Object(n.jsx)(y.a,{margin:"dense",label:"Post code",name:"postcode",value:d.postcode,onChange:h,fullWidth:!0}),Object(n.jsx)(y.a,{margin:"dense",label:"City",name:"city",value:d.city,onChange:h,fullWidth:!0}),Object(n.jsx)(y.a,{margin:"dense",label:"E-mail",name:"email",value:d.email,onChange:h,fullWidth:!0}),Object(n.jsx)(y.a,{margin:"dense",label:"Phone number",name:"phone",value:d.phone,onChange:h,fullWidth:!0})]}),Object(n.jsxs)(S.a,{children:[Object(n.jsx)(v.a,{onClick:j,color:"primary",children:"Cancel"}),Object(n.jsx)(v.a,{onClick:function(){e.addCustomer(d),j()},color:"default",children:"Save"})]})]})]})},F=a(534),D=a(222),z=a.n(D),N=a(35),W=a.n(N),E=a(220),A=a(22),Y=a(528);var P=function(e){var t=Object(r.useState)(!1),a=Object(o.a)(t,2),i=a[0],c=a[1],s=Object(r.useState)(new Date),l=Object(o.a)(s,2),d=l[0],u=l[1],j=Object(r.useState)({date:d,activity:"",duration:0,customer:e.params.data.links[0].href}),h=Object(o.a)(j,2),b=h[0],f=h[1],O=function(){c(!1),f({activity:"",duration:0})},T=function(e){f(Object(g.a)(Object(g.a)({},b),{},Object(x.a)({},e.target.name,e.target.value)))};return Object(n.jsxs)("div",{children:[Object(n.jsx)(p.a,{title:"Add a training to customer",children:Object(n.jsx)(m.a,{color:"primary","aria-label":"add-training",onClick:function(){c(!0)},children:Object(n.jsx)(z.a,{})})}),Object(n.jsxs)(C.a,{open:i,onClose:O,children:[Object(n.jsxs)(w.a,{children:["New training for ",e.params.data.firstname," ",e.params.data.lastname]}),Object(n.jsxs)(k.a,{children:[Object(n.jsx)(A.a,{utils:E.a,children:Object(n.jsx)(Y.a,{autoOk:!0,value:d,onChange:function(e){return function(e){u(e),console.log(e),u(W()(e).toISOString()),f(Object(g.a)(Object(g.a)({},b),{},{date:e}))}(e)},ampm:!1,showTodayButton:!0})}),Object(n.jsxs)(y.a,{margin:"dense",type:"text",label:"Activity",name:"activity",value:b.activity,onChange:T,fullWidth:!0,select:!0,children:[Object(n.jsx)(F.a,{value:"Gym training",children:"Gym Training"}),Object(n.jsx)(F.a,{value:"Running",children:"Running"}),Object(n.jsx)(F.a,{value:"Spinning",children:"Spinning"}),Object(n.jsx)(F.a,{value:"Cycling",children:"Cycling"}),Object(n.jsx)(F.a,{value:"Walking",children:"Walking"}),Object(n.jsx)(F.a,{value:"Swimming",children:"Swimming"}),Object(n.jsx)(F.a,{value:"Cardio",children:"Cardio"}),Object(n.jsx)(F.a,{value:"Yoga",children:"Yoga"})]}),Object(n.jsxs)(y.a,{margin:"dense",type:"int",label:"Duration",name:"duration",value:b.duration,onChange:T,fullWidth:!0,select:!0,children:[Object(n.jsx)(F.a,{value:"15",children:"15 min"}),Object(n.jsx)(F.a,{value:"30",children:"30 min"}),Object(n.jsx)(F.a,{value:"45",children:"45 min"}),Object(n.jsx)(F.a,{value:"60",children:"1 hour"}),Object(n.jsx)(F.a,{value:"75",children:"75 min"}),Object(n.jsx)(F.a,{value:"90",children:"1,5 hours"}),Object(n.jsx)(F.a,{value:"120",children:"2 hours"})]})]}),Object(n.jsxs)(S.a,{children:[Object(n.jsx)(v.a,{onClick:O,color:"primary",children:"Cancel"}),Object(n.jsx)(v.a,{onClick:function(){e.addTraining(b),O()},color:"default",children:"Save"})]})]})]})},G=a(223),M=a.n(G);var R=function(e){var t=Object(r.useState)(!1),a=Object(o.a)(t,2),i=a[0],c=a[1],s=Object(r.useState)({lastname:"",firstname:"",streetaddress:"",postcode:"",city:"",email:"",phone:""}),l=Object(o.a)(s,2),d=l[0],u=l[1],j=function(){c(!1),u({lastname:"",firstname:"",streetaddress:"",postcode:"",city:"",email:"",phone:""})},h=function(e){u(Object(g.a)(Object(g.a)({},d),{},Object(x.a)({},e.target.name,e.target.value)))};return Object(n.jsxs)("div",{children:[Object(n.jsx)(p.a,{title:"Edit customer",children:Object(n.jsx)(m.a,{color:"default","aria-label":"edit-customer",onClick:function(){u({lastname:e.params.data.lastname,firstname:e.params.data.firstname,streetaddress:e.params.data.streetaddress,postcode:e.params.data.postcode,city:e.params.data.city,email:e.params.data.email,phone:e.params.data.phone}),c(!0)},children:Object(n.jsx)(M.a,{})})}),Object(n.jsxs)(C.a,{open:i,onClose:j,children:[Object(n.jsx)(w.a,{children:"Edit customer"}),Object(n.jsxs)(k.a,{children:[Object(n.jsx)(y.a,{margin:"dense",label:"First name",name:"firstname",value:d.firstname,onChange:h,fullWidth:!0}),Object(n.jsx)(y.a,{margin:"dense",label:"Last name",name:"lastname",value:d.lastname,onChange:h,fullWidth:!0}),Object(n.jsx)(y.a,{margin:"dense",label:"Address",name:"streetaddress",value:d.streetaddress,onChange:h,fullWidth:!0}),Object(n.jsx)(y.a,{margin:"dense",label:"Post code",name:"postcode",value:d.postcode,onChange:h,fullWidth:!0}),Object(n.jsx)(y.a,{margin:"dense",label:"City",name:"city",value:d.city,onChange:h,fullWidth:!0}),Object(n.jsx)(y.a,{margin:"dense",label:"E-mail",name:"email",value:d.email,onChange:h,fullWidth:!0}),Object(n.jsx)(y.a,{margin:"dense",label:"Phone number",name:"phone",value:d.phone,onChange:h,fullWidth:!0})]}),Object(n.jsxs)(S.a,{children:[Object(n.jsx)(v.a,{onClick:j,color:"primary",children:"Cancel"}),Object(n.jsx)(v.a,{onClick:function(){e.editCustomer(e.params.data.links[0].href,d),j()},color:"default",children:"Save"})]})]})]})},L=a(224),H=a.n(L);var _=function(e){var t=Object(r.useState)(!1),a=Object(o.a)(t,2),i=a[0],c=a[1],s=Object(r.useState)([]),l=Object(o.a)(s,2),d=l[0],u=l[1],j=e.params.data.links[2].href,h=function(){c(!1)},b=function(){fetch(j).then((function(e){return e.json()})).then((function(e){return u(e.content)})).catch((function(e){return console.error(e)}))},f=[{headerName:"Date and time",valueGetter:function(e){return W()(e.data.date).format("DD.MM.YYYY HH:mm")},sort:"desc"},{field:"activity"},{field:"duration"}];return Object(n.jsxs)("div",{children:[Object(n.jsx)(p.a,{title:"Show customer's trainings",children:Object(n.jsx)(m.a,{color:"default","aria-label":"show-trainings",onClick:function(){b(),console.log(d),c(!0)},children:Object(n.jsx)(H.a,{})})}),Object(n.jsxs)(C.a,{open:i,onClose:h,maxWidth:"sm",fullWidth:!0,children:[Object(n.jsxs)(w.a,{children:["Trainings for ",e.params.data.firstname," ",e.params.data.lastname]}),Object(n.jsx)(k.a,{children:Object(n.jsx)("div",{className:"ag-theme-material",style:{height:300,width:"100%",margin:"auto"},children:Object(n.jsx)(O.AgGridReact,{rowData:d,columnDefs:f})})}),Object(n.jsx)(S.a,{children:Object(n.jsx)(v.a,{onClick:h,color:"primary",children:"close"})})]})]})};var B=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=t[0],i=t[1];Object(r.useEffect)((function(){c()}),[]);var c=function(){fetch("https://customerrest.herokuapp.com/api/customers").then((function(e){return e.json()})).then((function(e){return i(e.content)})).catch((function(e){return console.error(e)}))},s=function(e){fetch("https://customerrest.herokuapp.com/api/trainings",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return c()})).catch((function(e){return console.error(e)}))},l=function(e,t){fetch(e,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return c()})).catch((function(e){return console.error(e)}))},d=[{headerName:"",field:"data",width:60,cellRendererFramework:function(e){return Object(n.jsx)(P,{addTraining:s,params:e})}},{headerName:"",field:"data",width:60,cellRendererFramework:function(e){return Object(n.jsx)(R,{editCustomer:l,params:e})}},{headerName:"",field:"links",width:60,cellRendererFramework:function(e){return Object(n.jsx)(p.a,{title:"Delete customer",children:Object(n.jsx)(m.a,{color:"secondary",onClick:function(){return function(e){window.confirm("Delete customer and all their trainings?")&&fetch(e.value[0].href,{method:"DELETE"}).then((function(t){return fetch(e.value[2].href,{method:"DELETE"})})).then((function(e){return c()})).catch((function(e){return console.error(e)}))}(e)},children:Object(n.jsx)(f.a,{})})})}},{headerName:"",field:"data",width:60,cellRendererFramework:function(e){return Object(n.jsx)(_,{params:e})}},{headerName:"Last name",field:"lastname",width:160,sortable:!0,sort:"asc",filter:!0,suppressSizeToFit:!1},{headerName:"First Name",field:"firstname",width:160,sortable:!0,filter:!0,suppressSizeToFit:!1},{field:"email",sortable:!0,filter:!0,suppressSizeToFit:!1},{field:"phone",sortable:!0,filter:!0,suppressSizeToFit:!1},{headerName:"Address",field:"streetaddress",sortable:!0,filter:!0,suppressSizeToFit:!1},{headerName:"Zip",field:"postcode",width:120,sortable:!0,filter:!0,suppressSizeToFit:!1},{field:"city",width:120,sortable:!0,filter:!0,suppressSizeToFit:!1}];return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Customers"}),Object(n.jsx)("div",{className:"ag-theme-material",style:{height:600,width:"95%",margin:"auto"},children:Object(n.jsx)(O.AgGridReact,{rowData:a,columnDefs:d,pagination:"true",paginationAutoPageSize:"true",resizable:"true",sizeColumnsToFit:!0,skipHeaderOnAutoSize:!0,autoSizeAllColumns:!0})}),Object(n.jsx)(T,{addCustomer:function(e){fetch("https://customerrest.herokuapp.com/api/customers",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return c()})).catch((function(e){return console.error(e)}))}})]})};var J=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=t[0],i=t[1];Object(r.useEffect)((function(){c()}),[]);var c=function(){fetch("https://customerrest.herokuapp.com/gettrainings").then((function(e){return e.json()})).then((function(e){return i(e)})).catch((function(e){return console.error(e)}))},s=[{headerName:"Date and time",valueGetter:function(e){return W()(e.data.date).format("DD.MM.YYYY HH:mm")},suppressSizeToFit:!1,sortable:!0,filter:!0,sort:"desc"},{field:"activity",width:160,sortable:!0,suppressSizeToFit:!1,filter:!0},{field:"duration",width:160,sortable:!0,suppressSizeToFit:!1,filter:!0},{headerName:"Customer",valueGetter:function(e){return e.data.customer.lastname+" "+e.data.customer.firstname},suppressSizeToFit:!1,sortable:!0,filter:!0},{headerName:"",field:"id",suppressSizeToFit:!1,cellRendererFramework:function(e){return Object(n.jsx)(p.a,{title:"Delete training",children:Object(n.jsx)(m.a,{color:"secondary",onClick:function(){return function(e){window.confirm("Delete training?")&&fetch("https://customerrest.herokuapp.com/api/trainings/"+e.value,{method:"DELETE"}).then((function(e){return c()})).catch((function(e){return console.error(e)}))}(e)},children:Object(n.jsx)(f.a,{})})})}}];return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"Trainings"})}),Object(n.jsx)("div",{className:"ag-theme-material",style:{height:640,width:"75%",margin:"auto"},children:Object(n.jsx)(O.AgGridReact,{rowData:a,columnDefs:s,pagination:"true",paginationAutoPageSize:"true",resizable:"true",sizeColumnsToFit:!0,autoSizeAllColumns:!0,skipHeaderOnAutoSize:!0})})]})},I=a(236),K=a(122),U=a(225),V=a(226);var Z=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1];Object(r.useEffect)((function(){s()}),[]);var s=function(){fetch("https://customerrest.herokuapp.com/gettrainings").then((function(e){return e.json()})).then((function(e){return c(e)})).catch((function(e){return console.error(e)}))},l=a.map((function(e){return{title:e.activity+" ("+e.duration+" min)",description:e.customer.firstname+" "+e.customer.lastname,start:e.date,end:W()(e.date).add(e.duration,"m")}})),d=i.a.useState(!1),u=Object(o.a)(d,2),j=u[0],h=u[1],m=i.a.useState(""),b=Object(o.a)(m,2),f=b[0],O=b[1],p=i.a.useState(""),x=Object(o.a)(p,2),g=x[0],y=x[1],T=i.a.useState(""),F=Object(o.a)(T,2),D=F[0],z=F[1],N=function(){h(!1)};return Object(n.jsxs)("div",{children:[Object(n.jsx)(I.a,{plugins:[K.b,U.a,V.a],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialView:"dayGridMonth",slotMinTime:"06:00:00",slotLabelFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},events:l,eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},eventClick:function(e){y(W()(e.event._instance.range.start).format("DD.MM.YYYY HH.mm")),z(e.event._def.title+", "+e.event._def.extendedProps.description),O(e.event._def.title),console.log(e.event),h(!0)}}),Object(n.jsxs)(C.a,{open:j,onClose:N,children:[Object(n.jsx)(w.a,{children:f}),Object(n.jsxs)(k.a,{children:[Object(n.jsx)("div",{children:g}),Object(n.jsx)("div",{children:D})]}),Object(n.jsx)(S.a,{children:Object(n.jsx)(v.a,{onClick:N,children:"Close"})})]})]})},q=a(93),Q=a(58);var X=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=t[0],i=t[1];Object(r.useEffect)((function(){c()}),[]);var c=function(){fetch("https://customerrest.herokuapp.com/gettrainings").then((function(e){return e.json()})).then((function(e){return i(e)})).catch((function(e){return console.error(e)}))},s=Object(r.useMemo)((function(){return Object(q.orderBy)(Object(q.map)(Object(q.groupBy)(a,"activity"),(function(e,t){return{activity:t,minutes:Object(q.sumBy)(e,"duration")}})),"minutes","desc")}),[a]);return console.log(s),Object(n.jsx)("div",{children:Object(n.jsx)(Q.d,{width:"75%",height:600,children:Object(n.jsxs)(Q.b,{data:s,margin:{top:20,left:10,right:10,bottom:10},children:[Object(n.jsx)(Q.f,{dataKey:"activity"}),Object(n.jsx)(Q.g,{dataKey:"minutes",unit:" min",ticks:[30,60,90,120,150,180,210,240],type:"number"}),Object(n.jsx)(Q.e,{}),Object(n.jsx)(Q.c,{stroke:"#f5f5f5",strokeDasharray:"5 5"}),Object(n.jsx)(Q.a,{dataKey:"minutes",fill:"#ba000d"})]})})})};var $=function(){var e=i.a.useState(0),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.jsx)(l.a,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(u.a,{position:"static",color:"primary",children:Object(n.jsxs)(j.a,{value:a,onChange:function(e,t){r(t)},centered:!0,children:[Object(n.jsx)(h.a,{label:"Calendar",to:"/calendar",component:l.b}),Object(n.jsx)(h.a,{label:"Customers",to:"/customers",component:l.b}),Object(n.jsx)(h.a,{label:"Trainings",to:"/trainings",component:l.b}),Object(n.jsx)(h.a,{label:"Statistics",to:"/stats",component:l.b})]})}),Object(n.jsxs)(d.c,{children:[Object(n.jsx)(d.a,{exact:!0,path:"/school_project_PT_react",component:Z}),Object(n.jsx)(d.a,{path:"/calendar",component:Z}),Object(n.jsx)(d.a,{path:"/customers",component:B}),Object(n.jsx)(d.a,{path:"/trainings",component:J}),Object(n.jsx)(d.a,{path:"/stats",component:X})]})]})})},ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,536)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)($,{})}),document.getElementById("root")),ee()}},[[483,1,2]]]);
//# sourceMappingURL=main.23c94838.chunk.js.map