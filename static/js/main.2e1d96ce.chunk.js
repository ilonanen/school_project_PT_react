(this.webpackJsonpptreact=this.webpackJsonpptreact||[]).push([[0],{133:function(e,t,a){},134:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(0),i=a.n(r),c=a(13),s=a.n(c),o=(a(133),a(14)),l=a(24),d=(a(107),a(134),a(61)),u=a(16),j=a(196),h=a(201),m=a(195),b=(a(158),a(200),a(194)),f=a(76),O=a.n(f),p=a(52),x=(a(84),a(85),a(203)),g=a(41),v=a(186),C=a(198),y=a(202),S=a(193),k=a(191),w=a(190);var T=function(e){var t=Object(r.useState)(!1),a=Object(o.a)(t,2),i=a[0],c=a[1],s=Object(r.useState)({lastname:"",firstname:"",streetaddress:"",postcode:"",city:"",email:"",phone:""}),d=Object(o.a)(s,2),u=d[0],j=d[1],h=function(){c(!1),j({lastname:"",firstname:"",streetaddress:"",postcode:"",city:"",email:"",phone:""})},m=function(e){j(Object(l.a)(Object(l.a)({},u),{},Object(g.a)({},e.target.name,e.target.value)))};return Object(n.jsxs)("div",{children:[Object(n.jsx)(v.a,{style:{margin:10},variant:"contained",color:"primary",onClick:function(){c(!0)},children:"Add a new customer"}),Object(n.jsxs)(y.a,{open:i,onClose:h,children:[Object(n.jsx)(w.a,{children:"New customer"}),Object(n.jsxs)(k.a,{children:[Object(n.jsx)(C.a,{margin:"dense",label:"First name",name:"firstname",value:u.firstname,onChange:m,fullWidth:!0}),Object(n.jsx)(C.a,{margin:"dense",label:"Last name",name:"lastname",value:u.lastname,onChange:m,fullWidth:!0}),Object(n.jsx)(C.a,{margin:"dense",label:"Address",name:"streetaddress",value:u.streetaddress,onChange:m,fullWidth:!0}),Object(n.jsx)(C.a,{margin:"dense",label:"Post code",name:"postcode",value:u.postcode,onChange:m,fullWidth:!0}),Object(n.jsx)(C.a,{margin:"dense",label:"City",name:"city",value:u.city,onChange:m,fullWidth:!0}),Object(n.jsx)(C.a,{margin:"dense",label:"E-mail",name:"email",value:u.email,onChange:m,fullWidth:!0}),Object(n.jsx)(C.a,{margin:"dense",label:"Phone number",name:"phone",value:u.phone,onChange:m,fullWidth:!0})]}),Object(n.jsxs)(S.a,{children:[Object(n.jsx)(v.a,{onClick:h,color:"primary",children:"Cancel"}),Object(n.jsx)(v.a,{onClick:function(){e.addCustomer(u),h()},color:"default",children:"Save"})]})]})]})},F=a(205),D=a(102),z=a.n(D),N=a(30),W=a.n(N),E=a(100),A=a(17),Y=a(197);var G=function(e){var t=Object(r.useState)(!1),a=Object(o.a)(t,2),i=a[0],c=a[1],s=Object(r.useState)(new Date),d=Object(o.a)(s,2),u=d[0],j=d[1],h=Object(r.useState)({date:u,activity:"",duration:0,customer:e.params.data.links[0].href}),m=Object(o.a)(h,2),f=m[0],O=m[1],p=function(){c(!1),O({activity:"",duration:0})},T=function(e){O(Object(l.a)(Object(l.a)({},f),{},Object(g.a)({},e.target.name,e.target.value)))};return Object(n.jsxs)("div",{children:[Object(n.jsx)(x.a,{title:"Add a training to customer",children:Object(n.jsx)(b.a,{color:"primary","aria-label":"add-training",onClick:function(){c(!0)},children:Object(n.jsx)(z.a,{})})}),Object(n.jsxs)(y.a,{open:i,onClose:p,children:[Object(n.jsxs)(w.a,{children:["New training for ",e.params.data.firstname," ",e.params.data.lastname]}),Object(n.jsxs)(k.a,{children:[Object(n.jsx)(A.a,{utils:E.a,children:Object(n.jsx)(Y.a,{autoOk:!0,value:u,onChange:function(e){return function(e){j(e),console.log(e),j(W()(e).toISOString()),O(Object(l.a)(Object(l.a)({},f),{},{date:e}))}(e)},ampm:!1,showTodayButton:!0})}),Object(n.jsxs)(C.a,{margin:"dense",type:"text",label:"Activity",name:"activity",value:f.activity,onChange:T,fullWidth:!0,select:!0,children:[Object(n.jsx)(F.a,{value:"Gym training",children:"Gym Training"}),Object(n.jsx)(F.a,{value:"Running",children:"Running"}),Object(n.jsx)(F.a,{value:"Indoor cycling",children:"Indoor cycling"}),Object(n.jsx)(F.a,{value:"Walking",children:"Walking"}),Object(n.jsx)(F.a,{value:"Swimming",children:"Swimming"}),Object(n.jsx)(F.a,{value:"Cardio",children:"Cardio"}),Object(n.jsx)(F.a,{value:"Yoga",children:"Yoga"})]}),Object(n.jsxs)(C.a,{margin:"dense",type:"int",label:"Duration",name:"duration",value:f.duration,onChange:T,fullWidth:!0,select:!0,children:[Object(n.jsx)(F.a,{value:"15",children:"15 min"}),Object(n.jsx)(F.a,{value:"30",children:"30 min"}),Object(n.jsx)(F.a,{value:"60",children:"1 hour"}),Object(n.jsx)(F.a,{value:"90",children:"1,5 hours"}),Object(n.jsx)(F.a,{value:"120",children:"2 hours"})]})]}),Object(n.jsxs)(S.a,{children:[Object(n.jsx)(v.a,{onClick:p,color:"primary",children:"Cancel"}),Object(n.jsx)(v.a,{onClick:function(){e.addTraining(f),p()},color:"default",children:"Save"})]})]})]})},P=a(103),M=a.n(P);var R=function(e){var t=Object(r.useState)(!1),a=Object(o.a)(t,2),i=a[0],c=a[1],s=Object(r.useState)({lastname:"",firstname:"",streetaddress:"",postcode:"",city:"",email:"",phone:""}),d=Object(o.a)(s,2),u=d[0],j=d[1],h=function(){c(!1),j({lastname:"",firstname:"",streetaddress:"",postcode:"",city:"",email:"",phone:""})},m=function(e){j(Object(l.a)(Object(l.a)({},u),{},Object(g.a)({},e.target.name,e.target.value)))};return Object(n.jsxs)("div",{children:[Object(n.jsx)(x.a,{title:"Edit customer",children:Object(n.jsx)(b.a,{color:"default","aria-label":"edit-customer",onClick:function(){j({lastname:e.params.data.lastname,firstname:e.params.data.firstname,streetaddress:e.params.data.streetaddress,postcode:e.params.data.postcode,city:e.params.data.city,email:e.params.data.email,phone:e.params.data.phone}),c(!0)},children:Object(n.jsx)(M.a,{})})}),Object(n.jsxs)(y.a,{open:i,onClose:h,children:[Object(n.jsx)(w.a,{children:"Edit customer"}),Object(n.jsxs)(k.a,{children:[Object(n.jsx)(C.a,{margin:"dense",label:"First name",name:"firstname",value:u.firstname,onChange:m,fullWidth:!0}),Object(n.jsx)(C.a,{margin:"dense",label:"Last name",name:"lastname",value:u.lastname,onChange:m,fullWidth:!0}),Object(n.jsx)(C.a,{margin:"dense",label:"Address",name:"streetaddress",value:u.streetaddress,onChange:m,fullWidth:!0}),Object(n.jsx)(C.a,{margin:"dense",label:"Post code",name:"postcode",value:u.postcode,onChange:m,fullWidth:!0}),Object(n.jsx)(C.a,{margin:"dense",label:"City",name:"city",value:u.city,onChange:m,fullWidth:!0}),Object(n.jsx)(C.a,{margin:"dense",label:"E-mail",name:"email",value:u.email,onChange:m,fullWidth:!0}),Object(n.jsx)(C.a,{margin:"dense",label:"Phone number",name:"phone",value:u.phone,onChange:m,fullWidth:!0})]}),Object(n.jsxs)(S.a,{children:[Object(n.jsx)(v.a,{onClick:h,color:"primary",children:"Cancel"}),Object(n.jsx)(v.a,{onClick:function(){e.editCustomer(e.params.data.links[0].href,u),h()},color:"default",children:"Save"})]})]})]})},L=a(104),H=a.n(L);var I=function(e){var t=Object(r.useState)(!1),a=Object(o.a)(t,2),i=a[0],c=a[1],s=Object(r.useState)([]),l=Object(o.a)(s,2),d=l[0],u=l[1],j=e.params.data.links[2].href,h=function(){c(!1)},m=function(){fetch(j).then((function(e){return e.json()})).then((function(e){return u(e.content)})).catch((function(e){return console.error(e)}))},f=[{headerName:"Date and time",valueGetter:function(e){return W()(e.data.date).format("DD.MM.YYYY HH:mm")},sort:"desc"},{field:"activity"},{field:"duration"}];return Object(n.jsxs)("div",{children:[Object(n.jsx)(x.a,{title:"Show customer's trainings",children:Object(n.jsx)(b.a,{color:"default","aria-label":"show-trainings",onClick:function(){m(),console.log(d),c(!0)},children:Object(n.jsx)(H.a,{})})}),Object(n.jsxs)(y.a,{open:i,onClose:h,maxWidth:"sm",fullWidth:!0,children:[Object(n.jsxs)(w.a,{children:["Trainings for ",e.params.data.firstname," ",e.params.data.lastname]}),Object(n.jsx)(k.a,{children:Object(n.jsx)("div",{className:"ag-theme-material",style:{height:300,width:"100%",margin:"auto"},children:Object(n.jsx)(p.AgGridReact,{rowData:d,columnDefs:f})})}),Object(n.jsx)(S.a,{children:Object(n.jsx)(v.a,{onClick:h,color:"primary",children:"close"})})]})]})};var J=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=t[0],i=t[1];Object(r.useEffect)((function(){c()}),[]);var c=function(){fetch("https://customerrest.herokuapp.com/api/customers").then((function(e){return e.json()})).then((function(e){return i(e.content)})).catch((function(e){return console.error(e)}))},s=function(e){fetch("https://customerrest.herokuapp.com/api/trainings",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return c()})).catch((function(e){return console.error(e)}))},l=function(e,t){fetch(e,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return c()})).catch((function(e){return console.error(e)}))},d=[{headerName:"Last name",field:"lastname",width:160,sortable:!0,sort:"asc",filter:!0,suppressSizeToFit:!1},{headerName:"First Name",field:"firstname",width:160,sortable:!0,filter:!0,suppressSizeToFit:!1},{headerName:"Address",field:"streetaddress",sortable:!0,filter:!0,suppressSizeToFit:!1},{field:"postcode",width:160,sortable:!0,filter:!0,suppressSizeToFit:!1},{field:"city",width:160,sortable:!0,filter:!0,suppressSizeToFit:!1},{field:"email",sortable:!0,filter:!0,suppressSizeToFit:!1},{field:"phone",sortable:!0,filter:!0,suppressSizeToFit:!1},{headerName:"",field:"data",width:60,cellRendererFramework:function(e){return Object(n.jsx)(I,{params:e})}},{headerName:"",field:"data",width:60,cellRendererFramework:function(e){return Object(n.jsx)(G,{addTraining:s,params:e})}},{headerName:"",field:"data",width:60,cellRendererFramework:function(e){return Object(n.jsx)(R,{editCustomer:l,params:e})}},{headerName:"",field:"links",width:60,cellRendererFramework:function(e){return Object(n.jsx)(x.a,{title:"Delete customer",children:Object(n.jsx)(b.a,{color:"secondary",onClick:function(){return function(e){window.confirm("Delete customer and all their trainings?")&&fetch(e.value[0].href,{method:"DELETE"}).then((function(t){return fetch(e.value[2].href,{method:"DELETE"})})).then((function(e){return c()})).catch((function(e){return console.error(e)}))}(e)},children:Object(n.jsx)(O.a,{})})})}}];return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Customers"}),Object(n.jsx)("div",{className:"ag-theme-material",style:{height:640,width:"95%",margin:"auto"},children:Object(n.jsx)(p.AgGridReact,{rowData:a,columnDefs:d,pagination:"true",paginationAutoPageSize:"true",resizable:"true",sizeColumnsToFit:!0,skipHeaderOnAutoSize:!0,autoSizeAllColumns:!0})}),Object(n.jsx)(T,{addCustomer:function(e){fetch("https://customerrest.herokuapp.com/api/customers",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return c()})).catch((function(e){return console.error(e)}))}})]})};var _=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=t[0],i=t[1];Object(r.useEffect)((function(){c()}),[]);var c=function(){fetch("https://customerrest.herokuapp.com/gettrainings").then((function(e){return e.json()})).then((function(e){return i(e)})).catch((function(e){return console.error(e)}))},s=[{headerName:"Date and time",valueGetter:function(e){return W()(e.data.date).format("DD.MM.YYYY HH:mm")},suppressSizeToFit:!1,sortable:!0,filter:!0,sort:"desc"},{field:"activity",width:160,sortable:!0,suppressSizeToFit:!1,filter:!0},{field:"duration",width:160,sortable:!0,suppressSizeToFit:!1,filter:!0},{headerName:"Customer",valueGetter:function(e){return e.data.customer.lastname+" "+e.data.customer.firstname},suppressSizeToFit:!1,sortable:!0,filter:!0},{headerName:"",field:"id",suppressSizeToFit:!1,cellRendererFramework:function(e){return Object(n.jsx)(x.a,{title:"Delete training",children:Object(n.jsx)(b.a,{color:"secondary",onClick:function(){return function(e){window.confirm("Delete training?")&&fetch("https://customerrest.herokuapp.com/api/trainings/"+e.value,{method:"DELETE"}).then((function(e){return c()})).catch((function(e){return console.error(e)}))}(e)},children:Object(n.jsx)(O.a,{})})})}}];return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"Trainings"})}),Object(n.jsx)("div",{className:"ag-theme-material",style:{height:640,width:"75%",margin:"auto"},children:Object(n.jsx)(p.AgGridReact,{rowData:a,columnDefs:s,pagination:"true",paginationAutoPageSize:"true",resizable:"true",sizeColumnsToFit:!0,autoSizeAllColumns:!0,skipHeaderOnAutoSize:!0})})]})},B=a(108),U=a(77),V=a(105),q=a(106);var K=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1];Object(r.useEffect)((function(){s()}),[]);var s=function(){fetch("https://customerrest.herokuapp.com/gettrainings").then((function(e){return e.json()})).then((function(e){return c(e)})).catch((function(e){return console.error(e)}))},l=a.map((function(e){return{title:e.activity+" ("+e.duration+" min)",description:e.customer.firstname+" "+e.customer.lastname,start:e.date,end:W()(e.date).add(e.duration,"m")}})),d=i.a.useState(!1),u=Object(o.a)(d,2),j=u[0],h=u[1],m=i.a.useState(""),b=Object(o.a)(m,2),f=b[0],O=b[1],p=i.a.useState(""),x=Object(o.a)(p,2),g=x[0],C=x[1],T=i.a.useState(""),F=Object(o.a)(T,2),D=F[0],z=F[1],N=function(){h(!1)};return Object(n.jsxs)("div",{children:[Object(n.jsx)(B.a,{plugins:[U.b,V.a,q.a],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialView:"dayGridMonth",slotMinTime:"06:00:00",slotLabelFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},events:l,eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},eventClick:function(e){C(W()(e.event._instance.range.start).format("DD.MM.YYYY HH.mm")),z(e.event._def.title+", "+e.event._def.extendedProps.description),O(e.event._def.title),console.log(e.event),h(!0)}}),Object(n.jsxs)(y.a,{open:j,onClose:N,children:[Object(n.jsx)(w.a,{children:f}),Object(n.jsxs)(k.a,{children:[Object(n.jsx)("div",{children:g}),Object(n.jsx)("div",{children:D})]}),Object(n.jsx)(S.a,{children:Object(n.jsx)(v.a,{onClick:N,children:"Close"})})]})]})};var Q=function(){var e=i.a.useState(0),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.jsx)(d.a,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(j.a,{position:"static",children:Object(n.jsxs)(h.a,{value:a,onChange:function(e,t){r(t)},centered:!0,children:[Object(n.jsx)(m.a,{label:"Calendar",to:"/calendar",component:d.b}),Object(n.jsx)(m.a,{label:"Customers",to:"/customers",component:d.b}),Object(n.jsx)(m.a,{label:"Trainings",to:"/trainings",component:d.b})]})}),Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{exact:!0,path:"/",component:K}),Object(n.jsx)(u.a,{path:"/calendar",component:K}),Object(n.jsx)(u.a,{path:"/customers",component:J}),Object(n.jsx)(u.a,{path:"/trainings",component:_})]})]})})},X=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,207)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(Q,{})}),document.getElementById("root")),X()}},[[155,1,2]]]);
//# sourceMappingURL=main.2e1d96ce.chunk.js.map